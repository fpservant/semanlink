<!--kwblock.jsp--><%/** * Suppose défini un bean Bean_KwList contenant la liste à afficher dans l'attribut de request "net.semanlink.servlet.Bean_KwList". * Bean_KwList doit avoir son attribut identifier défini (sinon prend la valeur "kwblock") */%><%@ page language="java" session="true" import="net.semanlink.servlet.*,net.semanlink.semanlink.*,java.util.*"%><%@ taglib uri="http://struts.apache.org/tags-bean" prefix="bean" %><%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %><%@ taglib uri="http://struts.apache.org/tags-logic" prefix="logic" %><%boolean edit = (Boolean.TRUE.equals(session.getAttribute("net.semanlink.servlet.edit")));Bean_KwList truc = (Bean_KwList) request.getAttribute("net.semanlink.servlet.Bean_KwList");if (truc != null) {	String identifier = truc.getIdentifier();	boolean listeSimple; // HACK A CHANGER pour savoir si on edit ou pas (cf linked keywords)	Jsp_Page jsp = (Jsp_Page) request.getAttribute("net.semanlink.servlet.jsp");	if (jsp instanceof Jsp_Document) {		listeSimple = true;	} else { // linked keywords		listeSimple = false;		truc.setJsp(jsp);	}	if (identifier == null) {		identifier = "kwblock";		listeSimple = false;	}						%>	<div class="browser">		<div class="title trigger" onclick="toggle('<%=identifier%>')"><table><tr><td width="100%"><%=truc.getTitle()%></td><td><img src="<%=request.getContextPath()%>/ims/box_open.gif" id="trigger:<%=identifier%>" alt="" /></td></tr></table></div>		<div id="block:<%=identifier%>" class="box"> <!-- on peut mettre scrollable ou box -->			<div class="kw2">				<% if ((edit) && (listeSimple)) { 					request.setAttribute("putAddFormBefore",Boolean.TRUE);					%>					<jsp:include page="/jsp/kwlistedit.jsp" flush="true" />					<%					request.removeAttribute("putAddFormBefore");				} else { %>					<jsp:include page="/jsp/kwlist.jsp" flush="true" />				<%}%>			</div>		</div>	</div><!-- browser -->	<%} // if (truc != null)%><!--/kwblock.jsp-->