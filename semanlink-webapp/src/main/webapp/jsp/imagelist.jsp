<!--imagelist.jsp--><%/** * Affichage de la liste des images d'un keyword, ou d'un dossier * (Gère aussi le cas où on affiche tous les descendants // ?) */%><%@ page language="java" session="true" import="net.semanlink.semanlink.*,net.semanlink.servlet.*,java.util.*"%><%@ taglib uri="http://struts.apache.org/tags-bean" prefix="bean" %><%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %><%@ taglib uri="http://struts.apache.org/tags-logic" prefix="logic" %><%Jsp_Page jsp = (Jsp_Page) request.getAttribute("net.semanlink.servlet.jsp");Bean_DocList docList = jsp.getDocList();List list;String linkToThisKwPage = jsp.getLinkToThis();%><% ///////////////////////////////////////////  THUMBNAILS %><%{ // BLOC	list = docList.getImages();	int n = list.size();	int nMax = 20;	if (n > nMax) {		n = nMax;		%>			<div class="clearboth"></div>			<p>(il y a plus d'images...)</p>		<%	}		Bean_KwList truc = (Bean_KwList) request.getAttribute("net.semanlink.servlet.Bean_KwList");	if (truc == null) {		truc = new Bean_KwList();		request.setAttribute("net.semanlink.servlet.Bean_KwList", truc);	}			for (int i = 0; i < n; i++) {		SLDocument doc = (SLDocument) list.get(i);
		// HTML_Link link = HTML_Link.linkToDocument(doc);						truc.setList(doc.getKeywords());								%>
				<div class="thumbnail2">			<html:link page="<%=HTML_Link.htmlLinkPage(doc)%>"><img src="<%=doc.getURI()%>" height="160" border="0" /></html:link>			<br><%=SLUtils.getLabel(doc)%>			<br><span class="kwsofdocline"><jsp:include page="/jsp/kwlist.jsp"/></span>		</div>	<%	} // for} // BLOC%><div class="clearboth"></div><!--/imagelist.jsp-->