<!--doclist.jsp--><%/** * Affichage d'une liste de documents au sein d'une Jsp_Resource : docs d'un kw, ou fichiers d'un dossier. */%><%@ page language="java" session="true" import="net.semanlink.semanlink.*,net.semanlink.servlet.*, java.util.*"%><%DocumentFactory docFactory = Manager_Document.getDocumentFactory();Jsp_Page jsp = (Jsp_Page) request.getAttribute("net.semanlink.servlet.jsp");// jsp.addOnLoadEvents("displayCommentAsMarkdown"); // non ! ex cas keywords, où il y a comment et lines// System.out.println("DOCLIST addOnLoadEvents");// Bean_DocList docList = jsp.getDocList();Bean_DocList beanDocList = (Bean_DocList) request.getAttribute("net.semanlink.servlet.Bean_DocList");List list = beanDocList.getList();int n = list.size();boolean noUL = Boolean.TRUE.equals(request.getAttribute("net.semanlink.servlet.Bean_DocList_noUL"));if (!noUL) {	%>	<div id="docslistcontainer">		<ul class="maindoclist">	<%}for (int i = 0; i < n; i++) {	SLDocument slDoc = (SLDocument) list.get(i);	request.setAttribute("net.semanlink.servlet.jsp.currentdoc", slDoc);	// ceci sert pour l'affichage des kws du doc	List kwsOfDoc = beanDocList.getKeywordsToShow(i);	if (kwsOfDoc != null) {		request.setAttribute("net.semanlink.servlet.jsp.currentdoc.kws", kwsOfDoc);	} else {		request.removeAttribute("net.semanlink.servlet.jsp.currentdoc.kws");	}		%><jsp:include page="<%=docFactory.getDocLineJspName(slDoc)%>"/><%} // for if (!noUL) { %>		</ul>	</div> <% // <div id="docslistcontainer"> %>
	<%//je rajoute ça à cause de new entries. Surement possible de le virer ailleurs %>
	<div class="clearboth"></div> <%//ceci est nécessaire pour que la "graybox" contienne entièrement l'éventuelle image. Pas trop sur que ce soit bien au bon endroit
	// Changer ca : le mettre juste avant end graybox dans le cas de la gray box contenant image en haut droite%>
<%}
%>

<!--/doclist.jsp-->